<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>The 15th Lok Sabha Visualization Project by inosaint</title>

    <link rel="stylesheet" href="./stylesheets/normalize.css" />
    <link rel="stylesheet" href="./stylesheets/foundation.css" />    
    <link rel="stylesheet" href="./stylesheets/styles.css">
    <link rel="stylesheet" href="./stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="./stylesheets/custom.css">

    <script type="text/javascript" src="./javascripts/d3.v3.js"></script>
    <script src="http://code.jquery.com/jquery-1.8.3.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="./javascripts/jquery.tipsy.js" type="text/javascript" charset="utf-8"></script>
    <script src="./javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <style type="text/css">
      
    </style>
  </head>
  <body onload="movePosition()">
    <div class="wrapper">
      <header>
        <h1 class="header">The 15th Lok Sabha Visualization Project</h1>
        <p class="header"> <em>For the people, by the people and of the people</em></p>

        <!-- <ul>
          <li class="download"><a class="buttons" href="https://github.com/inosaint/the-15th-lok-sabha-viz/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/inosaint/the-15th-lok-sabha-viz/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/inosaint/the-15th-lok-sabha-viz">View On GitHub</a></li>
        </ul> -->

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/inosaint">inosaint</a></p>

        <p class="header">You can read more about the project at <a class="header name" href="http://the15thloksabha.wordpress.com/">the blog</a></p>

      </header>

      <section>
        <h1>
      <a name="the-15th-lok-sabha-visualization-project" class="anchor" href="#the-15th-lok-sabha-visualization-project"><span class="octicon octicon-link"></span></a>The 15th Lok Sabha Visualization Project</h1>

      <p>The Visualization project is expected in parallel to IID’s 5 week ‘Information Visualization’ module here at the National Institute of Design, R &amp; D campus, Bangalore. </p>

      <p>Primary Dataset: <strong><a name="full-dataset-for-family-politics" class="anchor" href="http://www.theindiasite.com/973-2/">Full dataset for Family Politics</a></strong> &amp; <strong><a name="prs-mp-track-dataset" class="anchor" href="http://www.prsindia.org/index.php?name=mptracklok">PRS’s MP Track Dataset</a></strong></p>


      <h1 id="uponLoad">MP's of Karnataka</h1>

        <div class="filtering" style="float:left;">
            <div style="float:left;">
            <h3>Parties</h3>
              <div>
              <input id="select-party" type="checkbox" name = "select-party" value="select-party" class="lower" checked="checked">
              <label for="select-party" class="labelText">Select All</label>
              </div>
              
              <div>
              <input id="bjp" type="checkbox" name = "party" value="bjp" class="lower" checked="checked">
              <label for="bjp" class="labelText">BJP</label>
              <span class="markers bjp">&nbsp;&nbsp;  &nbsp;</span>
              </div>
              
              <div>
              <input id="cong" type="checkbox" name = "party" value="cong" class="lower" checked="checked">
              <label for="cong" class="labelText">Congress</label>
              <span class="markers cong">&nbsp;&nbsp;  &nbsp;</span>
              </div>

              <div>
              <input id="jds" type="checkbox" name = "party" value="jds" class="lower" checked="checked">
              <label for="jds" class="labelText">JD(S)</label>
              <span class="markers jds">&nbsp;&nbsp;  &nbsp;</span>
              </div>
              
            </div>

            <div style="float:left;padding-left:90px;">
            <h3>Gender</h3>
              <div>
              <input id="select-gender" type="checkbox" name = "select-gender" value="select-gender" class="lower" checked="checked">
              <label for="select-gender" class="labelText">Select All</label>
              </div>
              
              <div>
              <input id="male" type="checkbox" name = "gender" value="male" class="lower" checked="checked">
              <label for="male" class="labelText">Male</label>
              </div>
              <div>
              <input id="female" type="checkbox" name = "gender" value="female" class="lower" checked="checked">
              <label for="female" class="labelText">Female</label>
              </div>
            </div>

            <div style="float:left;padding-left:90px;">
            <h3>Origin</h3>
              <div>
              <input id="select-origin" type="checkbox" name = "select-origin" value="select-origin" class="lower" checked="checked">
              <label for="select-origin" class="labelText">Select All</label>
              </div>

              <div>
              <input id="student" type="checkbox" name = "origin" value="student" class="lower" checked="checked">
              <label for="student" class="labelText">Student politics</label>
              </div>
              <div>
              <input id="no-significant" type="checkbox" name = "origin" value="no-significant" class="lower" checked="checked">
              <label for="no-significant" class="labelText">No significant family background</label>
              </div>
              <div>
              <input id="son-business" type="checkbox" name = "origin" value="son-business" class="lower" checked="checked">
              <label for="son-business" class="labelText">Family - Son (Business)</label>
              </div>
              <div>
              <input id="family-son" type="checkbox" name = "origin" value="family-son" class="lower" checked="checked">
              <label for="family-son" class="labelText">Family - Son</label>
              </div>
              <div>
              <input id="family-sis" type="checkbox" name = "origin" value="family-sis" class="lower" checked="checked">
              <label for="family-sis" class="labelText">Family - Sister</label>
              </div>
              
              <div>
              <input id="family-cuz" type="checkbox" name = "origin" value="family-cuz" class="lower" checked="checked">
              <label for="family-cuz" class="labelText">Family - Cousin</label>
              </div>

              <div>
              <input id="inducted" type="checkbox" name = "origin" value="inducted" class="lower" checked="checked">
              <label for="inducted" class="labelText">Inducted</label>
              </div>
              <div>
              <input id="business" type="checkbox" name = "origin" value="business" class="lower" checked="checked">
              <label for="business" class="labelText">Business</label>
              </div>
              <div>
              <input id="rss" type="checkbox" name = "origin" value="rss" class="lower" checked="checked">
              <label for="rss" class="labelText">RSS</label>
              </div>
             
              <div>
              <input id="na" type="checkbox" name = "origin" value="na" class="lower" checked="checked">
              <label for="na" class="labelText">#N/A</label>
              </div>
            </div>

              <div id="chart">
                
              </div>
        </div>


<script type="text/javascript">

      //Width and height
      var w = 500;
      var h = 300;
      var padding = 20;
      //Original data
      var dataset;



      d3.json("./data/karnataka.json", function(data) {

          dataset = data;    //Once loaded, copy to dataset.
          //console.log(data);
          forced();
      });

      
function forced(){
      
      //Initialize a default force layout, using the nodes and edges in dataset
      var force = d3.layout.force()
                 .nodes(dataset.nodes)
                 //.links(dataset.edges)
                 .size([w, h])
                 .linkDistance([5])
                 .charge([-20])
                 .start();

      var colors = d3.scale.category10();

      //Create SVG element
      var svg = d3.select("#chart")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

      //Create nodes as circles
      var nodes = svg.selectAll("circle")
        .data(dataset.nodes)
        .enter()
        .append("circle")
        .attr("r", 10)
        .attr("class", "node")
        .attr("style", "float:left")
        .style("fill", function(d, i) {

          if (dataset.nodes[i]["Political party"] == "Indian National Congress") {
            return colors(0);
          }
          else if (dataset.nodes[i]["Political party"] == "Bharatiya Janata Party") {
            return colors(1);
          }
          else if (dataset.nodes[i]["Political party"] == "Janata Dal (Secular)") {
            return colors(2);
          }
        })

        .call(force.drag)
        ;

      nodes.append("title")
          .text(function(d,i) { return dataset.nodes[i]["MP name"]; });
  

      $(".node").tipsy({ gravity: 's' });

      //Every time the simulation "ticks", this will be called
      force.on("tick", function() {

      nodes.attr("cx", function(d,i) { return d.x; })
           .attr("cy", function(d,i) { return d.y; });
  
      });

        
      
      //party filter
        d3.selectAll("#bjp")
              .on("change", function() {

                  svg.selectAll("circle").filter(function(d,i) { 
                      return dataset.nodes[i]["Political party"] == "Bharatiya Janata Party";}
                    ).style("display", this.checked ? null : "none");
                                  
              });

      d3.select("#cong")
              .on("change", function() {

                  svg.selectAll("circle").filter(function(d,i) { 
                      return dataset.nodes[i]["Political party"] == "Indian National Congress";}
                  ).style("display", this.checked ? null : "none");
                                  
              });

        d3.select("#jds")
              .on("change", function() {

                  svg.selectAll("circle").filter(function(d,i) { 
                      return dataset.nodes[i]["Political party"] == "Janata Dal (Secular)";
                    }).style("display", this.checked ? null : "none");
                                  
              });

        //gender filter
        d3.select("#male")
              .on("change", function() {

                  svg.selectAll("circle").filter(function(d,i) { 
                      return dataset.nodes[i]["Gender"] == "Male";
                    }).style("display", this.checked ? null : "none");
                                  
              });

       d3.select("#female")
              .on("change", function() {

                  svg.selectAll("circle").filter(function(d,i) { 
                      return dataset.nodes[i]["Gender"] == "Female";
                    }).style("display", this.checked ? null : "none");
                                  
              });
         //origin filter     
         d3.select("#student")
                      .on("change", function() {

                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes[i]["Background"] == "Student politics";
                            }).style("display", this.checked ? null : "none");
                                          
                      });

         d3.select("#no-significant")
                      .on("change", function() {

                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes[i]["Background"] == "No significant family background";
                            }).style("display", this.checked ? null : "none");
                                          
                      });

         d3.select("#son-business")
                      .on("change", function() {

                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes[i]["Background"] == "Family - Son (Business)";
                            }).style("display", this.checked ? null : "none");
                                          
                      });

         d3.select("#family-son")
                      .on("change", function() {

                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes[i]["Background"] == "Family - Son";
                            }).style("display", this.checked ? null : "none");
                                          
                      });

         d3.select("#family-sis")
                      .on("change", function() {

                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes[i]["Background"] == "Family - Sister";
                            }).style("display", this.checked ? null : "none");
                                          
                      });
        d3.select("#family-cuz")
                      .on("change", function() {

                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes[i]["Background"] == "Family - Cousin";
                            }).style("display", this.checked ? null : "none");
                                          
                      });              
        d3.select("#business")
                      .on("change", function() {

                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes[i]["Background"] == "Business";
                            }).style("display", this.checked ? null : "none");
                                          
                      });

         d3.select("#inducted")
                      .on("change", function() {

                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes[i]["Background"] == "Inducted";
                            }).style("display", this.checked ? null : "none");
                                          
                      });

         d3.select("#rss")
                      .on("change", function() {

                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes[i]["Background"] == "RSS";
                            }).style("display", this.checked ? null : "none");
                                          
                      });



         d3.select("#na")
                      .on("change", function() {

                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes[i]["Background"] == "#N/A";
                            }).style("display", this.checked ? null : "none");
                                          
                      });


        //select all


        d3.select("#select-party")
                      .on("change", function() {

                        if(document.getElementById('select-party').checked == false){
                          //console.log(document.getElementById('select-origin').checked);
                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes;
                            }).style("display", this.checked ? null : "none");
                          }
                          else {
                            svg.selectAll("circle").style("display", this.checked ? null : "none");
                          }
                          


                          document.getElementById('bjp').checked = !document.getElementById('bjp').checked;
                          document.getElementById('cong').checked = !document.getElementById('cong').checked;
                          document.getElementById('jds').checked = !document.getElementById('jds').checked;
                                          
                      });

         d3.select("#select-gender")
                      .on("change", function() {

                        if(document.getElementById('select-gender').checked == false){
                          //console.log(document.getElementById('select-origin').checked);
                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes;
                            }).style("display", this.checked ? null : "none");
                          }
                          else {
                            svg.selectAll("circle").style("display", this.checked ? null : "none");
                          }
                          

                          document.getElementById('male').checked = !document.getElementById('male').checked;
                          document.getElementById('female').checked = !document.getElementById('female').checked;
                      });

         d3.select("#select-origin")
                      .on("change", function() {

                        if(document.getElementById('select-origin').checked == false){
                          //console.log(document.getElementById('select-origin').checked);
                          svg.selectAll("circle").filter(function(d,i) { 
                              return dataset.nodes;
                            }).style("display", this.checked ? null : "none");
                          }
                          else {
                            svg.selectAll("circle").style("display", this.checked ? null : "none");
                          }
                          

                          document.getElementById('student').checked = !document.getElementById('student').checked;
                          document.getElementById('no-significant').checked = !document.getElementById('no-significant').checked;
                          document.getElementById('family-son').checked = !document.getElementById('family-son').checked;
                         document.getElementById('son-business').checked = !document.getElementById('son-business').checked;
                          document.getElementById('family-sis').checked = !document.getElementById('family-sis').checked;
                          document.getElementById('inducted').checked = !document.getElementById('inducted').checked;
                          document.getElementById('family-cuz').checked = !document.getElementById('family-cuz').checked;
                          document.getElementById('rss').checked = !document.getElementById('rss').checked;
                          document.getElementById('na').checked = !document.getElementById('na').checked;
                           document.getElementById('business').checked = !document.getElementById('business').checked;                 
                      });



}
    </script>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>

          <script type="text/javascript">
          function movePosition (){window.location.hash="uponLoad";}
          </script>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>